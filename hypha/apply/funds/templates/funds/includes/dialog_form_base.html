{% load i18n %}

<form
    class="form {{ extra_classes }}"
    method="post"
    hx-post="{{ url }}"
    hx-target="{{ target }}"
    hx-swap="innerHTML"
    hx-select="{{ target }}"
    id="{% if form_id %}{{ form_id }}{% else %}{{ form.name }}{% endif %}"
    enctype="multipart/form-data"
    action="{{ action|default:request.path }}">

    {% csrf_token %}

    {{ form.media }}
    {% for hidden in form.hidden_fields %}
        {{ hidden }}
    {% endfor %}

    <div class="fields--visible">
        {% for field in form.visible_fields %}
            {% if field.field %}
                {% include "forms/includes/field.html" %}
            {% else %}
                {{ field }}
            {% endif %}
        {% endfor %}
    </div>

    <div class="flex justify-end gap-4 mt-2">
        <button
            type="button"
            @click="show = false"
            class="px-4 py-2 text-sm font-medium text-gray-700 transition duration-150 ease-in-out border border-gray-300 rounded-md hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:ring focus:ring-blue-200 active:bg-gray-50 active:text-gray-800"
            title="{% trans "Close" %}">
            {% trans "Cancel" %}
        </button>

        {% trans "Delete" as delete %}
        <button
            class="button button--{% if invert %}white{% elif value == delete %}warning{% else %}primary{% endif %}"
            type="submit">
            {{ value }}
        </button>
    </div>
</form>

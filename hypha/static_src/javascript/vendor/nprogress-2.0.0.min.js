/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */

!function(n,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():n.NProgress=e()}(this,function(){var n={};n.version="0.2.0";var e,t,r=n.settings={minimum:.08,easing:"linear",positionUsing:"",speed:200,trickle:!0,trickleSpeed:200,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function i(n){return"object"==typeof HTMLElement?n instanceof HTMLElement:n&&"object"==typeof n&&1===n.nodeType&&"string"==typeof n.nodeName}function s(n,e,t){return n<e?e:n>t?t:n}function o(n){return(-1+n)*100}n.configure=function(n){var e,t;for(e in n)void 0!==(t=n[e])&&n.hasOwnProperty(e)&&(r[e]=t);return this},n.status=null,n.set=function(e){var t=n.isStarted();e=s(e,r.minimum,1),n.status=1===e?null:e;var i=n.render(!t),a=i.querySelector(r.barSelector),l=r.speed,f=r.easing;return i.offsetWidth,u(function(t){var s,u,p,d;""===r.positionUsing&&(r.positionUsing=n.getPositioningCSS()),c(a,(s=e,u=l,p=f,(d="translate3d"===r.positionUsing?{transform:"translate3d("+o(s)+"%,0,0)"}:"translate"===r.positionUsing?{transform:"translate("+o(s)+"%,0)"}:{"margin-left":o(s)+"%"}).transition="all "+u+"ms "+p,d)),1===e?(c(i,{transition:"none",opacity:1}),i.offsetWidth,setTimeout(function(){c(i,{transition:"all "+l+"ms linear",opacity:0}),setTimeout(function(){n.remove(),t()},l)},l)):setTimeout(t,l)}),this},n.isStarted=function(){return"number"==typeof n.status},n.start=function(){n.status||n.set(0);var e=function(){setTimeout(function(){n.status&&(n.trickle(),e())},r.trickleSpeed)};return r.trickle&&e(),this},n.done=function(e){return e||n.status?n.inc(.3+.5*Math.random()).set(1):this},n.inc=function(e){var t=n.status;return t?t>1?void 0:("number"!=typeof e&&(e=t>=0&&t<.2?.1:t>=.2&&t<.5?.04:t>=.5&&t<.8?.02:t>=.8&&t<.99?.005:0),t=s(t+e,0,.994),n.set(t)):n.start()},n.trickle=function(){return n.inc()},e=0,t=0,n.promise=function(r){return r&&"resolved"!==r.state()&&(0===t&&n.start(),e++,t++,r.always(function(){0==--t?(e=0,n.done()):n.set((e-t)/e)})),this},n.render=function(e){if(n.isRendered())return document.getElementById("nprogress");f(document.documentElement,"nprogress-busy");var t=document.createElement("div");t.id="nprogress",t.innerHTML=r.template;var s,a=t.querySelector(r.barSelector),u=e?"-100":o(n.status||0),l=i(r.parent)?r.parent:document.querySelector(r.parent);return c(a,{transition:"all 0 linear",transform:"translate3d("+u+"%,0,0)"}),!r.showSpinner&&(s=t.querySelector(r.spinnerSelector))&&$(s),l!=document.body&&f(l,"nprogress-custom-parent"),l.appendChild(t),t},n.remove=function(){p(document.documentElement,"nprogress-busy"),p(i(r.parent)?r.parent:document.querySelector(r.parent),"nprogress-custom-parent");var n=document.getElementById("nprogress");n&&$(n)},n.isRendered=function(){return!!document.getElementById("nprogress")},n.getPositioningCSS=function(){var n=document.body.style,e="WebkitTransform"in n?"Webkit":"MozTransform"in n?"Moz":"msTransform"in n?"ms":"OTransform"in n?"O":"";return e+"Perspective" in n?"translate3d":e+"Transform" in n?"translate":"margin"};var a,u=(a=[],function(n){a.push(n),1==a.length&&function n(){var e=a.shift();e&&e(n)}()}),c=function(){var n=["Webkit","O","Moz","ms"],e={};function t(t,r,i){var s,o;r=e[s=(o=s=r).replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(n,e){return e.toUpperCase()})]||(e[s]=function e(t){var r=document.body.style;if(t in r)return t;for(var i,s=n.length,o=t.charAt(0).toUpperCase()+t.slice(1);s--;)if((i=n[s]+o)in r)return i;return t}(s)),t.style[r]=i}return function(n,e){var r,i,s=arguments;if(2==s.length)for(r in e)void 0!==(i=e[r])&&e.hasOwnProperty(r)&&t(n,r,i);else t(n,s[1],s[2])}}();function l(n,e){return("string"==typeof n?n:d(n)).indexOf(" "+e+" ")>=0}function f(n,e){var t=d(n);l(t,e)||(n.className=(t+e).substring(1))}function p(n,e){var t,r=d(n);l(n,e)&&(t=r.replace(" "+e+" "," "),n.className=t.substring(1,t.length-1))}function d(n){return(" "+(n&&n.className||"")+" ").replace(/\s+/gi," ")}function $(n){n&&n.parentNode&&n.parentNode.removeChild(n)}return n});

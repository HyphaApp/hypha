<div class="status-bar {{ class }}">
    {% for phase in phases %}
        {% ifchanged phase.step %}
            <div class="status-bar__item
                        {% if phase.step == current_phase.step %}
                            status-bar__item--is-current
                        {% elif current_phase.step > phase.step %}
                            status-bar__item--is-complete
                        {% endif %}">
                <span class="status-bar__tooltip"
                {% if phase.step != current_phase.step %}
                    {% if public %}
                        data-title="{{ phase.public_name }}" aria-label="{{ phase.public_name }}"
                    {% else %}
                        data-title="{{ phase }}" aria-label="{{ phase }}"
                    {% endif %}
                {% else %}
                    {% if public %}
                        data-title="{{ current_phase.public_name }}" aria-label="{{ current_phase.public_name }}"
                    {% else %}
                        data-title="{{ current_phase }}" aria-label="{{ current_phase }}"
                    {% endif %}
                {% endif %}
                ></span>
                <svg class="status-bar__icon"><use xlink:href="#tick-alt"></use></svg>
            </div>
        {% endifchanged %}
    {% endfor %}
</div>
<div class="status-bar--mobile">
    <h6 class="status-bar__subheading">
        {% if public %}
            {{ current_phase.public_name }}
        {% else %}
            {{ current_phase }}
        {% endif %}
    </h6>
</div>

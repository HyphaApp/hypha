{
    "name": "Hypha",
    "version": "1.0.0",
    "description": "The node.js requirements to build this project.",
    "author": "Fredrik Jonsson",
    "license": "GPL-2.0",
    "babel": {
        "presets": [
            [
                "@babel/preset-env",
                {
                    "useBuiltIns": "entry",
                    "corejs": "3"
                }
            ]
        ]
    },
    "browserslist": [
        "> 3%",
        "Firefox ESR",
        "last 2 versions"
    ],
    "devDependencies": {
        "@babel/cli": "^7.19.3",
        "@babel/core": "^7.20.5",
        "@babel/preset-env": "^7.20.2",
        "core-js": "^3.26.1",
        "eslint": "^8.29.0",
        "eslint-plugin-template": "^0.7.0",
        "nodemon": "^2.0.20",
        "npm-run-all2": "^6.0.4",
        "sass": "^1.56.1",
        "stylelint": "^14.16.0",
        "stylelint-config-standard-scss": "^6.1.0",
        "stylelint-scss": "^4.3.0"
    },
    "scripts": {
        "heroku-postbuild": "npm run build",
        "build": "npx npm-run-all --print-label --parallel build:*",
        "watch": "npx npm-run-all --print-label --parallel watch:*",
        "lint": "npx npm-run-all --parallel lint:*",

        "build:js": "npx babel ./hypha/static_src/src/javascript --out-dir ./hypha/static_compiled/js",
        "build:css": "sass ./hypha/static_src/src/sass:./hypha/static_compiled/css --load-path ./hypha/static_src/src/sass --no-source-map",
        "build:images": "npx babel ./hypha/static_src/src/images --out-dir ./hypha/static_compiled/images --copy-files",
        "build:fonts": "npx babel ./hypha/static_src/src/fonts --out-dir ./hypha/static_compiled/fonts --copy-files",

        "watch:js": "npx babel --watch ./hypha/static_src/src/javascript --out-dir ./hypha/static_compiled/js",
        "watch:css": "sass --watch ./hypha/static_src/src/sass:./hypha/static_compiled/css --load-path ./hypha/static_src/src/sass",
        "watch:static": "nodemon --delay 3 --exec \"npm run collectstatic\" --watch ./hypha/static_compiled --ext css,js,json,png,svg",
        "watch:lint": "nodemon --exec \"npm run lint\" --watch ./hypha/static_src/src/sass --watch ./hypha/static_src/src/javscript --ext scss,js",

        "dev:build": "npx npm-run-all --print-label --serial clean --parallel dev:build:* --serial collectstatic",
        "dev:build:js": "npm run build:js",
        "dev:build:css": "sass ./hypha/static_src/src/sass:./hypha/static_compiled/css --load-path ./hypha/static_src/src/sass",
        "dev:build:lint": "npm run lint",
        "dev:build:images": "npm run build:images",
        "dev:build:fonts": "npm run build:fonts",

        "lint:css": "stylelint \"hypha/static_src/src/sass/**/*.scss\"",
        "lint:js": "eslint \"hypha/static_src/src/javascript/**/*.js\"",

        "collectstatic": "python manage.py collectstatic --no-post-process --noinput --verbosity 0",
        "clean": "rm -rf ./static ./hypha/static_compiled"
    },
    "engines": {
        "node": "16.18.x"
    },
    "private": true
}
